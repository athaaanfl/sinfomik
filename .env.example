# =====================================================
# SINFOMIK - Full Stack Configuration
# =====================================================
# Copy this file to .env and fill in your values
# This single .env file is used by both backend and frontend
# =====================================================

# =====================================================
# BACKEND CONFIGURATION
# =====================================================

# Server
PORT=5000
NODE_ENV=development

# =====================================================
# DATABASE
# =====================================================

# PostgreSQL (Production - Recommended)
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sinfomik
DB_USER=postgres
DB_PASSWORD=my-Admin

# SQLite (Development/Small Scale) - uncomment to use
# DB_TYPE=sqlite
# DB_PATH=./data/academic_dashboard.db

# Connection Pool Settings (optional)
DB_POOL_MAX=50
DB_POOL_MIN=5
DB_QUERY_TIMEOUT=30000

# =====================================================
# SECURITY
# =====================================================

# JWT Secret (WAJIB GANTI - minimal 32 karakter)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_secure_jwt_secret_here_change_in_production_min_32_chars

# JWT Expiration (default: 24h)
JWT_EXPIRES_IN=24h

# =====================================================
# CORS - Frontend URLs
# =====================================================

# Main Frontend URL
FRONTEND_URL=http://localhost:3000

# Additional allowed origins (comma-separated, optional)
# Example: http://localhost:3001,http://192.168.1.100:3000
ALLOWED_ORIGINS=

# =====================================================
# RATE LIMITING (DDoS Protection)
# =====================================================

# General API rate limit (per 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# Auth endpoints rate limit (more strict)
AUTH_RATE_LIMIT_MAX=50

# =====================================================
# FILE UPLOAD
# =====================================================

# Max file size (in bytes) - default 10MB
MAX_FILE_SIZE=10485760

# Upload directory (relative to backend)
UPLOAD_DIR=./uploads

# =====================================================
# FRONTEND CONFIGURATION
# =====================================================

# Backend API URL (used during frontend build)
REACT_APP_API_BASE_URL=http://localhost:5000

# PWA Features
REACT_APP_ENABLE_PWA=true

# App Info
REACT_APP_NAME=SINFOMIK
REACT_APP_VERSION=1.0.0

# Build optimization (true for dev, false for production)
GENERATE_SOURCEMAP=true

# =====================================================
# LOGGING (Optional)
# =====================================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log to file
LOG_TO_FILE=false
LOG_FILE_PATH=./logs/app.log
